import"./index-a0dda9fd.df1da76d.js";import{U as f}from"./index-22ff086a.80c7d6b4.js";import{M as l}from"./index.51792a3c.js";import{U as c}from"./index.7bab3ee2.js";import{d as x,l as B,o as z,A as U,B as V,G as S,E as g}from"./framework.3c8e636d.js";import"./index.67dca02f.js";import"./render-function.da13c3e2.js";const C=x({name:"Upload",__name:"index",props:{modelValue:{default:()=>[]},maxSize:{default:0}},emits:["update:modelValue"],setup(m,{emit:s}){const o=m,n=s,i=B({get:()=>o.modelValue,set:e=>{n("update:modelValue",e)}});function u(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB"}function d(e){return new Promise((t,a)=>{if(o.maxSize&&e.size>o.maxSize*1024){const r=u(o.maxSize*1024);l.error(`文件大小不能超过${r}`),a(!1)}t(!0)})}function p(){l.error("超出文件数量限制")}return(e,t)=>{const a=c;return z(),U(f,null,{default:V(()=>[S(a,g({"file-list":i.value,"onUpdate:fileList":t[0]||(t[0]=r=>i.value=r),"on-before-upload":d},e.$attrs,{onExceedLimit:p}),null,16,["file-list"])]),_:1})}}});export{C as default};
