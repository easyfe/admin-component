import{_ as G,K as H,L as K,at as O,a3 as R,V as U,aa as q,ab as J}from"./index-6adc951f.6b180361.js";import{t as M}from"./index-1df520ce.4177fecd.js";import{d as D,a7 as Q,f as w,i as f,A as W,o as g,c as p,v as y,n as m,x as L,F as T,r as s,z as N,a as v,t as b,D as X,y as Y,C as Z,B as x}from"./framework.b469e8f1.js";const _=D({name:"Switch",components:{IconLoading:H},props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultChecked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},type:{type:String,default:"circle"},size:{type:String},checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},beforeChange:{type:Function},checkedText:{type:String},uncheckedText:{type:String}},emits:{"update:modelValue":e=>!0,change:(e,l)=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:l}){const{disabled:d,size:i}=Q(e),n=K("switch"),{mergedSize:r}=O(i),{mergedDisabled:c,mergedSize:u,eventHandlers:V}=R({disabled:d,size:r}),C=w(e.defaultChecked?e.checkedValue:e.uncheckedValue),h=f(()=>{var o;return((o=e.modelValue)!=null?o:C.value)===e.checkedValue}),$=w(e.loading),S=f(()=>$.value||e.loading),z=(o,a)=>{var t,k;C.value=o?e.checkedValue:e.uncheckedValue,l("update:modelValue",C.value),l("change",C.value,a),(k=(t=V.value)==null?void 0:t.onChange)==null||k.call(t,a)},P=async o=>{if(S.value||c.value)return;const a=!h.value,t=a?e.checkedValue:e.uncheckedValue,k=e.beforeChange;if(U(k)){$.value=!0;try{const F=await k(t);(F??!0)&&z(a,o)}finally{$.value=!1}}else z(a,o)},I=o=>{var a,t;l("focus",o),(t=(a=V.value)==null?void 0:a.onFocus)==null||t.call(a,o)},j=o=>{var a,t;l("blur",o),(t=(a=V.value)==null?void 0:a.onBlur)==null||t.call(a,o)},A=f(()=>[n,`${n}-type-${e.type}`,{[`${n}-small`]:u.value==="small"||u.value==="mini",[`${n}-checked`]:h.value,[`${n}-disabled`]:c.value,[`${n}-loading`]:S.value,[`${n}-custom-color`]:e.type==="line"&&(e.checkedColor||e.uncheckedColor)}]),E=f(()=>{if(h.value&&e.checkedColor)return e.type==="line"?{"--custom-color":e.checkedColor}:{backgroundColor:e.checkedColor};if(!h.value&&e.uncheckedColor)return e.type==="line"?{"--custom-color":e.uncheckedColor}:{backgroundColor:e.uncheckedColor}});return{prefixCls:n,cls:A,mergedDisabled:c,buttonStyle:E,computedCheck:h,computedLoading:S,handleClick:P,handleFocus:I,handleBlur:j}}}),ee=["aria-checked","disabled"];function le(e,l,d,i,n,r){const c=W("icon-loading");return g(),p("button",{type:"button",role:"switch","aria-checked":e.computedCheck,class:m(e.cls),style:X(e.buttonStyle),disabled:e.mergedDisabled,onClick:l[0]||(l[0]=(...u)=>e.handleClick&&e.handleClick(...u)),onFocus:l[1]||(l[1]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onBlur:l[2]||(l[2]=(...u)=>e.handleBlur&&e.handleBlur(...u))},[y("span",{class:m(`${e.prefixCls}-handle`)},[y("span",{class:m(`${e.prefixCls}-handle-icon`)},[e.computedLoading?(g(),L(c,{key:0})):(g(),p(T,{key:1},[e.computedCheck?s(e.$slots,"checked-icon",{key:0}):s(e.$slots,"unchecked-icon",{key:1})],2112))],2)],2),N("  prettier-ignore  "),e.type!=="line"&&e.size!=="small"&&(e.$slots.checked||e.checkedText||e.$slots.unchecked||e.uncheckedText)?(g(),p(T,{key:0},[y("span",{class:m(`${e.prefixCls}-text-holder`)},[e.computedCheck?s(e.$slots,"checked",{key:0},()=>[v(b(e.checkedText),1)]):s(e.$slots,"unchecked",{key:1},()=>[v(b(e.uncheckedText),1)])],2),y("span",{class:m(`${e.prefixCls}-text`)},[e.computedCheck?s(e.$slots,"checked",{key:0},()=>[v(b(e.checkedText),1)]):s(e.$slots,"unchecked",{key:1},()=>[v(b(e.uncheckedText),1)])],2)],64)):N("v-if",!0)],46,ee)}var B=G(_,[["render",le]]);const ae=Object.assign(B,{install:(e,l)=>{q(e,l);const d=J(l);e.component(d+B.name,B)}});const ue=D({name:"Switch",__name:"index",props:{modelValue:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const d=e,i=f({get:()=>d.modelValue,set:n=>{l("update:modelValue",n)}});return(n,r)=>{const c=ae;return g(),L(M,null,{default:Y(()=>[Z(c,x({modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=u=>i.value=u)},n.$attrs),null,16,["modelValue"])]),_:1})}}});export{ue as default};
