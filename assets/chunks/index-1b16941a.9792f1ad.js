import"./index-298d85ae.774a179e.js";import{U as p}from"./index-b15b00e4.bd9b2eb3.js";import{M as m}from"./index.2b4a4851.js";import{U as f}from"./index.b0f589b7.js";import{d as c,m as x,o as B,A as z,B as U,G as V,E as M}from"./framework.e8766f7a.js";import"./index.d5cc3e5d.js";import"./render-function.3f73711f.js";const C=c({name:"Upload",__name:"index",props:{modelValue:{default:()=>[]},maxSize:{default:0}},emits:["update:modelValue"],setup(l,{emit:n}){const o=l,i=x({get:()=>o.modelValue,set:e=>{n("update:modelValue",e)}});function s(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB"}function u(e){return new Promise((t,a)=>{if(o.maxSize&&e.size>o.maxSize*1024){const r=s(o.maxSize*1024);m.error(`文件大小不能超过${r}`),a(!1)}t(!0)})}function d(){m.error("超出文件数量限制")}return(e,t)=>{const a=f;return B(),z(p,null,{default:U(()=>[V(a,M({"file-list":i.value,"onUpdate:fileList":t[0]||(t[0]=r=>i.value=r),"on-before-upload":u},e.$attrs,{onExceedLimit:d}),null,16,["file-list"])]),_:1})}}});export{C as default};
