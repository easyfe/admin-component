import{K as j,ar as q,P as A,aq as K,Q as O,W as Q,X as R,$ as W,a3 as X,a4 as J}from"./index-a0dda9fd.df1da76d.js";import{U as M}from"./index-22ff086a.80c7d6b4.js";import{d as D,a3 as Y,i as T,l as f,w as Z,D as x,o as C,c as B,z as y,n as m,A as L,F as N,r as s,C as P,a as V,t as b,H as _,B as ee,G as le,E as ae}from"./framework.3c8e636d.js";const ne=D({name:"Switch",components:{IconLoading:q},props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultChecked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},type:{type:String,default:"circle"},size:{type:String},checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},beforeChange:{type:Function},checkedText:{type:String},uncheckedText:{type:String}},emits:{"update:modelValue":e=>!0,change:(e,l)=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:l}){const{disabled:c,size:g,modelValue:i}=Y(e),o=A("switch"),{mergedSize:d}=K(g),{mergedDisabled:t,mergedSize:v,eventHandlers:$}=O({disabled:c,size:d}),r=T(e.defaultChecked?e.checkedValue:e.uncheckedValue),h=f(()=>{var a;return((a=e.modelValue)!=null?a:r.value)===e.checkedValue}),S=T(!1),p=f(()=>S.value||e.loading),w=(a,n)=>{var u,k;r.value=a?e.checkedValue:e.uncheckedValue,l("update:modelValue",r.value),l("change",r.value,n),(k=(u=$.value)==null?void 0:u.onChange)==null||k.call(u,n)},U=async a=>{if(p.value||t.value)return;const n=!h.value,u=n?e.checkedValue:e.uncheckedValue,k=e.beforeChange;if(W(k)){S.value=!0;try{const F=await k(u);(F??!0)&&w(n,a)}finally{S.value=!1}}else w(n,a)},E=a=>{var n,u;l("focus",a),(u=(n=$.value)==null?void 0:n.onFocus)==null||u.call(n,a)},G=a=>{var n,u;l("blur",a),(u=(n=$.value)==null?void 0:n.onBlur)==null||u.call(n,a)};Z(i,a=>{(Q(a)||R(a))&&(r.value=e.uncheckedValue)});const H=f(()=>[o,`${o}-type-${e.type}`,{[`${o}-small`]:v.value==="small"||v.value==="mini",[`${o}-checked`]:h.value,[`${o}-disabled`]:t.value,[`${o}-loading`]:p.value,[`${o}-custom-color`]:e.type==="line"&&(e.checkedColor||e.uncheckedColor)}]),I=f(()=>{if(h.value&&e.checkedColor)return e.type==="line"?{"--custom-color":e.checkedColor}:{backgroundColor:e.checkedColor};if(!h.value&&e.uncheckedColor)return e.type==="line"?{"--custom-color":e.uncheckedColor}:{backgroundColor:e.uncheckedColor}});return{prefixCls:o,cls:H,mergedDisabled:t,buttonStyle:I,computedCheck:h,computedLoading:p,handleClick:U,handleFocus:E,handleBlur:G}}}),oe=["aria-checked","disabled"];function te(e,l,c,g,i,o){const d=x("icon-loading");return C(),B("button",{type:"button",role:"switch","aria-checked":e.computedCheck,class:m(e.cls),style:_(e.buttonStyle),disabled:e.mergedDisabled,onClick:l[0]||(l[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onFocus:l[1]||(l[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[2]||(l[2]=(...t)=>e.handleBlur&&e.handleBlur(...t))},[y("span",{class:m(`${e.prefixCls}-handle`)},[y("span",{class:m(`${e.prefixCls}-handle-icon`)},[e.computedLoading?(C(),L(d,{key:0})):(C(),B(N,{key:1},[e.computedCheck?s(e.$slots,"checked-icon",{key:0}):s(e.$slots,"unchecked-icon",{key:1})],2112))],2)],2),P("  prettier-ignore  "),e.type!=="line"&&e.size!=="small"&&(e.$slots.checked||e.checkedText||e.$slots.unchecked||e.uncheckedText)?(C(),B(N,{key:0},[y("span",{class:m(`${e.prefixCls}-text-holder`)},[e.computedCheck?s(e.$slots,"checked",{key:0},()=>[V(b(e.checkedText),1)]):s(e.$slots,"unchecked",{key:1},()=>[V(b(e.uncheckedText),1)])],2),y("span",{class:m(`${e.prefixCls}-text`)},[e.computedCheck?s(e.$slots,"checked",{key:0},()=>[V(b(e.checkedText),1)]):s(e.$slots,"unchecked",{key:1},()=>[V(b(e.uncheckedText),1)])],2)],64)):P("v-if",!0)],46,oe)}var z=j(ne,[["render",te]]);const ue=Object.assign(z,{install:(e,l)=>{X(e,l);const c=J(l);e.component(c+z.name,z)}}),ie=D({name:"Switch",__name:"index",props:{modelValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const c=e,g=l,i=f({get:()=>c.modelValue,set:o=>{g("update:modelValue",o)}});return(o,d)=>{const t=ue;return C(),L(M,null,{default:ee(()=>[le(t,ae({modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=v=>i.value=v)},o.$attrs),null,16,["modelValue"])]),_:1})}}});export{ie as default};
