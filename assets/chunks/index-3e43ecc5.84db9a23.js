import{aj as $t,ar as rt,a_ as ye,a$ as Vt,P as Bt,a2 as It,Z as ve,a1 as De,aM as Lt,aa as Ve,N as Ie,at as Pt,b0 as Ot,W as Le,aU as Ft,ae as Ue,a5 as pt,a6 as ft,b1 as At,aT as jt,a0 as Qe,aY as Mt,ai as Rt,aX as zt,aV as Ht,aW as xt,X as Ut,ak as Yt}from"./index-cb78ba23.fb262486.js";import{J as Wt}from"./index-1aa7bce8.46e16019.js";import{O as ht,d as pe,a3 as ee,$ as we,i as V,R as Gt,k as Xt,l as k,a0 as _,D as J,o as D,c as q,C as L,z as $e,F as Be,L as Ze,n as x,G as le,a4 as yt,B as ae,r as U,A as P,au as Ye,E as A,a as qt,t as Jt,T as Qt,m as Fe,Q as Zt,ab as _t,w as st,H as en,I as tn,av as nn,h as an}from"./framework.f715ecba.js";import{R as gt}from"./render-function.5766d6f8.js";import{I as ln}from"./index.9be93ac2.js";const bt=Symbol("TreeInjectionKey");function on(e){const t=[];function a(n){n&&n.forEach(l=>{t.push(l),a(l.children)})}return a(e),t}function rn(e){const t=new Map;return e.forEach(a=>{t.set(a.key,a)}),t}function We(e){return e.selectable&&!e.disabled}function ut(e){return!e.isLeaf&&e.children}function sn(e){return $t(e.isLeaf)?e.isLeaf:!e.children}function Ge(e){return Set.prototype.add.bind(e)}function Xe(e){return Set.prototype.delete.bind(e)}function Se(e){return e.disabled||e.disableCheckbox?!1:!!e.checkable}function _e(e){var t;const a=[];return(t=e.children)==null||t.forEach(n=>{Se(n)&&a.push(n.key,..._e(n))}),a}function kt(e){var t;const{node:a,checkedKeySet:n,indeterminateKeySet:l}=e;let s=a.parent;for(;s;){if(Se(s)){const r=s.key,c=((t=s.children)==null?void 0:t.filter(Se))||[];let o=0;const d=c.length;c.some(({key:i})=>{if(n.has(i))o+=1;else if(l.has(i))return o+=.5,!0;return!1}),o&&o!==d?l.add(r):l.delete(r),o&&o===d?n.add(r):n.delete(r)}s=s.parent}}function qe(e){const{node:t,checked:a,checkedKeys:n,indeterminateKeys:l,checkStrictly:s=!1}=e,{key:r}=t,c=new Set(n),o=new Set(l);if(a?c.add(r):c.delete(r),o.delete(r),!s){const d=_e(t);a?d.forEach(Ge(c)):d.forEach(Xe(c)),d.forEach(Xe(o)),kt({node:t,checkedKeySet:c,indeterminateKeySet:o})}return[[...c],[...o]]}function un(e){const{initCheckedKeys:t,key2TreeNode:a,checkStrictly:n,onlyCheckLeaf:l}=e,s=new Set,r=new Set,c=new Set;return n?t.forEach(Ge(s)):t.forEach(o=>{var d;const i=a.get(o);if(!i||r.has(o)||l&&((d=i.children)!=null&&d.length))return;const y=_e(i);y.forEach(Ge(r)),y.forEach(Xe(c)),s.add(o),c.delete(o),kt({node:i,checkedKeySet:s,indeterminateKeySet:c})}),[[...s,...r],[...c]]}function Ae(){return ht(bt)||{}}var dn=pe({name:"TreeNodeSwitcher",components:{IconLoading:rt,RenderFunction:gt},props:{prefixCls:String,loading:Boolean,showLine:Boolean,treeNodeData:{type:Object},icons:{type:Object},nodeStatus:{type:Object}},emits:["click"],setup(e,{slots:t,emit:a}){const{icons:n,nodeStatus:l,treeNodeData:s}=ee(e),r=Ae(),c=ye(t,"switcher-icon"),o=ye(t,"loading-icon");return{getSwitcherIcon:()=>{var d,i,y;const m=(i=(d=n==null?void 0:n.value)==null?void 0:d.switcherIcon)!=null?i:c.value;return m?m(l.value):(y=r.switcherIcon)==null?void 0:y.call(r,s.value,l.value)},getLoadingIcon:()=>{var d,i,y;const m=(i=(d=n==null?void 0:n.value)==null?void 0:d.loadingIcon)!=null?i:o.value;return m?m(l.value):(y=r.loadingIcon)==null?void 0:y.call(r,s.value,l.value)},onClick(d){a("click",d)}}},render(){var e,t,a;const{prefixCls:n,getSwitcherIcon:l,getLoadingIcon:s,onClick:r,nodeStatus:c={},loading:o,showLine:d}=this,{expanded:i,isLeaf:y}=c;if(o)return(e=s())!=null?e:we(rt);let m=null,K=!1;if(y)d&&(m=(a=l())!=null?a:we(ln));else{const T=d?we("span",{class:`${n}-${i?"minus":"plus"}-icon`}):we(Vt);m=(t=l())!=null?t:T,K=!d}if(!m)return null;const g=we("span",{class:`${n}-switcher-icon`,onClick:r},m);return K?we(Bt,{class:`${n}-icon-hover`},()=>g):g}});const mt=(()=>{let e=0;return()=>(e+=1,`__arco_tree${e}`)})();function cn(e,t){return!!(ve(e)?t:e)}function vn(e,t){const a={...e};return t&&Object.keys(t).forEach(l=>{const s=t[l];s!==l&&(a[l]=e[s],delete a[s])}),a}function dt({subEnable:e,superEnable:t,isLeaf:a,treeNodeData:n,level:l}){return ve(e)?De(t)?t(n,{isLeaf:a,level:l}):t??!1:e}function pn(e){var t,a;const{treeNodeData:n,parentNode:l,isTail:s=!0,treeProps:r}=e,{fieldNames:c}=r||{},o=vn(n,c),d=r.loadMore?!!o.isLeaf:!((t=o.children)!=null&&t.length),i=l?l.level+1:0,y={...It(o,["children"]),key:(a=o.key)!=null?a:mt(),selectable:dt({subEnable:o.selectable,superEnable:r==null?void 0:r.selectable,isLeaf:d,level:i,treeNodeData:n}),disabled:!!o.disabled,disableCheckbox:!!o.disableCheckbox,checkable:dt({subEnable:o.checkable,superEnable:r==null?void 0:r.checkable,isLeaf:d,level:i,treeNodeData:n}),isLeaf:d,isTail:s,blockNode:!!(r!=null&&r.blockNode),showLine:!!(r!=null&&r.showLine),level:i,lineless:l?[...l.lineless,l.isTail]:[],draggable:cn(o.draggable,r==null?void 0:r.draggable)};return{...y,treeNodeProps:y,treeNodeData:n,parent:l,parentKey:l==null?void 0:l.key,pathParentKeys:l?[...l.pathParentKeys,l.key]:[]}}function fn(e,t){function a(n,l){if(!n)return;const{fieldNames:s}=t,r=[];return n.forEach((c,o)=>{const d=pn({treeNodeData:c,treeProps:t,parentNode:l,isTail:o===n.length-1});d.children=a(c[(s==null?void 0:s.children)||"children"],d),r.push(d)}),r}return a(e)}function St(){const e=Xt(),t=()=>{var n;return(n=e==null?void 0:e.vnode.key)!=null?n:mt()},a=V(t());return Gt(()=>{a.value=t()}),a}function hn(e){const{key:t,refTitle:a}=ee(e),n=Ae(),l=V(!1),s=V(!1),r=V(!1),c=V(0),o=Lt(d=>{if(!a.value)return;const i=a.value.getBoundingClientRect(),y=window.pageYOffset+i.top,{pageY:m}=d,K=i.height/4,g=m-y;c.value=g<K?-1:g<i.height-K?0:1,r.value=n.allowDrop?n.allowDrop(t.value,c.value):!0});return{isDragOver:l,isDragging:s,isAllowDrop:r,dropPosition:c,setDragStatus(d,i){switch(d){case"dragStart":s.value=!0,c.value=0,n.onDragStart&&n.onDragStart(t.value,i);break;case"dragEnd":s.value=!1,l.value=!1,c.value=0,o.cancel(),n.onDragEnd&&n.onDragEnd(t.value,i);break;case"dragOver":l.value=!0,o(i),n.onDragOver&&n.onDragOver(t.value,i);break;case"dragLeave":l.value=!1,c.value=0,o.cancel(),n.onDragLeave&&n.onDragLeave(t.value,i);break;case"drop":n.onDrop&&n.onDrop(t.value,c.value,i),l.value=!1,c.value=0,o.cancel();break}}}}function yn(e){return Ve(e)?e:[e]}const gn=pe({name:"BaseTreeNode",components:{NodeSwitcher:dn,Checkbox:Pt,RenderFunction:gt,IconDragDotVertical:Ot},props:{title:{type:String},selectable:{type:Boolean},disabled:{type:Boolean},disableCheckbox:{type:Boolean},checkable:{type:Boolean},draggable:{type:Boolean},isLeaf:{type:Boolean},icon:{type:Function},switcherIcon:{type:Function},loadingIcon:{type:Function},dragIcon:{type:Function},isTail:{type:Boolean},blockNode:{type:Boolean},showLine:{type:Boolean},level:{type:Number,default:0},lineless:{type:Array,default:()=>[]}},setup(e){const t=St(),a=Le("tree-node"),n=Ae(),l=k(()=>{var v;return(v=n.key2TreeNode)==null?void 0:v.get(t.value)}),s=k(()=>l.value.treeNodeData),r=k(()=>l.value.children),c=k(()=>{var v;const S=(v=n.treeProps)==null?void 0:v.actionOnNodeClick;return S?yn(S):[]}),{isLeaf:o,isTail:d,selectable:i,disabled:y,disableCheckbox:m,draggable:K}=ee(e),g=k(()=>{var v;return[`${a}`,{[`${a}-selected`]:H.value,[`${a}-is-leaf`]:o.value,[`${a}-is-tail`]:d.value,[`${a}-expanded`]:O.value,[`${a}-disabled-selectable`]:!i.value&&!((v=n.treeProps)!=null&&v.disableSelectActionOnly),[`${a}-disabled`]:y.value}]}),T=V(),{isDragOver:E,isDragging:B,isAllowDrop:j,dropPosition:Y,setDragStatus:w}=hn(_({key:t,refTitle:T})),I=k(()=>[`${a}-title`,{[`${a}-title-draggable`]:K.value,[`${a}-title-gap-top`]:E.value&&j.value&&Y.value<0,[`${a}-title-gap-bottom`]:E.value&&j.value&&Y.value>0,[`${a}-title-highlight`]:!B.value&&E.value&&j.value&&Y.value===0,[`${a}-title-dragging`]:B.value,[`${a}-title-block`]:l.value.blockNode}]),M=k(()=>{var v,S;return(S=(v=n.checkedKeys)==null?void 0:v.includes)==null?void 0:S.call(v,t.value)}),W=k(()=>{var v,S;return(S=(v=n.indeterminateKeys)==null?void 0:v.includes)==null?void 0:S.call(v,t.value)}),H=k(()=>{var v,S;return(S=(v=n.selectedKeys)==null?void 0:v.includes)==null?void 0:S.call(v,t.value)}),O=k(()=>{var v,S;return(S=(v=n.expandedKeys)==null?void 0:v.includes)==null?void 0:S.call(v,t.value)}),oe=k(()=>{var v,S;return(S=(v=n.loadingKeys)==null?void 0:v.includes)==null?void 0:S.call(v,t.value)}),re=k(()=>n.dragIcon),fe=k(()=>n.nodeIcon);function G(v){var S,z;o.value||(!((S=r.value)!=null&&S.length)&&De(n.onLoadMore)?n.onLoadMore(t.value):(z=n==null?void 0:n.onExpand)==null||z.call(n,!O.value,t.value,v))}const R=_({loading:oe,checked:M,selected:H,indeterminate:W,expanded:O,isLeaf:o}),X=k(()=>n.nodeTitle?()=>{var v;return(v=n.nodeTitle)==null?void 0:v.call(n,s.value,R)}:void 0),te=k(()=>n.nodeExtra?()=>{var v;return(v=n.nodeExtra)==null?void 0:v.call(n,s.value,R)}:void 0);return{nodekey:t,refTitle:T,prefixCls:a,classNames:g,titleClassNames:I,indeterminate:W,checked:M,expanded:O,selected:H,treeTitle:X,treeNodeData:s,loading:oe,treeDragIcon:re,treeNodeIcon:fe,extra:te,nodeStatus:R,onCheckboxChange(v,S){var z;m.value||y.value||(z=n.onCheck)==null||z.call(n,v,t.value,S)},onTitleClick(v){var S;c.value.includes("expand")&&G(v),!(!i.value||y.value)&&((S=n.onSelect)==null||S.call(n,t.value,v))},onSwitcherClick:G,onDragStart(v){var S;if(K.value){v.stopPropagation(),w("dragStart",v);try{(S=v.dataTransfer)==null||S.setData("text/plain","")}catch{}}},onDragEnd(v){K.value&&(v.stopPropagation(),w("dragEnd",v))},onDragOver(v){K&&(v.stopPropagation(),v.preventDefault(),w("dragOver",v))},onDragLeave(v){K.value&&(v.stopPropagation(),w("dragLeave",v))},onDrop(v){!K.value||!j.value||(v.stopPropagation(),v.preventDefault(),w("drop",v))}}}}),bn=["data-level","data-key"],kn=["draggable"];function mn(e,t,a,n,l,s){const r=J("NodeSwitcher"),c=J("Checkbox"),o=J("RenderFunction"),d=J("IconDragDotVertical");return D(),q("div",{class:x(e.classNames),"data-level":e.level,"data-key":e.nodekey},[L(" 缩进 "),$e("span",{class:x(`${e.prefixCls}-indent`)},[(D(!0),q(Be,null,Ze(e.level,i=>(D(),q("span",{key:i,class:x([`${e.prefixCls}-indent-block`,{[`${e.prefixCls}-indent-block-lineless`]:e.lineless[i-1]}])},null,2))),128))],2),L(" switcher "),$e("span",{class:x([`${e.prefixCls}-switcher`,{[`${e.prefixCls}-switcher-expanded`]:e.expanded}])},[le(r,{"prefix-cls":e.prefixCls,loading:e.loading,"show-line":e.showLine,"tree-node-data":e.treeNodeData,icons:{switcherIcon:e.switcherIcon,loadingIcon:e.loadingIcon},"node-status":e.nodeStatus,onClick:e.onSwitcherClick},yt({_:2},[e.$slots["switcher-icon"]?{name:"switcher-icon",fn:ae(()=>[L(" @slot 定制 switcher 图标，会覆盖 Tree 的配置 "),U(e.$slots,"switcher-icon")]),key:"0"}:void 0,e.$slots["loading-icon"]?{name:"loading-icon",fn:ae(()=>[L(" @slot 定制 loading 图标，会覆盖 Tree 的配置 "),U(e.$slots,"loading-icon")]),key:"1"}:void 0]),1032,["prefix-cls","loading","show-line","tree-node-data","icons","node-status","onClick"])],2),L(" checkbox "),e.checkable?(D(),P(c,{key:0,disabled:e.disableCheckbox||e.disabled,"model-value":e.checked,indeterminate:e.indeterminate,"uninject-group-context":"",onChange:e.onCheckboxChange},null,8,["disabled","model-value","indeterminate","onChange"])):L("v-if",!0),L(" 内容 "),$e("span",{ref:"refTitle",class:x(e.titleClassNames),draggable:e.draggable,onDragstart:t[0]||(t[0]=(...i)=>e.onDragStart&&e.onDragStart(...i)),onDragend:t[1]||(t[1]=(...i)=>e.onDragEnd&&e.onDragEnd(...i)),onDragover:t[2]||(t[2]=(...i)=>e.onDragOver&&e.onDragOver(...i)),onDragleave:t[3]||(t[3]=(...i)=>e.onDragLeave&&e.onDragLeave(...i)),onDrop:t[4]||(t[4]=(...i)=>e.onDrop&&e.onDrop(...i)),onClick:t[5]||(t[5]=(...i)=>e.onTitleClick&&e.onTitleClick(...i))},[e.$slots.icon||e.icon||e.treeNodeIcon?(D(),q("span",{key:0,class:x([`${e.prefixCls}-icon`,`${e.prefixCls}-custom-icon`])},[L(" 节点图标 "),e.$slots.icon?U(e.$slots,"icon",Ye(A({key:0},e.nodeStatus))):e.icon?(D(),P(o,A({key:1,"render-func":e.icon},e.nodeStatus),null,16,["render-func"])):e.treeNodeIcon?(D(),P(o,A({key:2,"render-func":e.treeNodeIcon,node:e.treeNodeData},e.nodeStatus),null,16,["render-func","node"])):L("v-if",!0)],2)):L("v-if",!0),$e("span",{class:x(`${e.prefixCls}-title-text`)},[e.treeTitle?(D(),P(o,{key:0,"render-func":e.treeTitle},null,8,["render-func"])):(D(),q(Be,{key:1},[L(" 标题，treeTitle 优先级高于节点的 title "),U(e.$slots,"title",{title:e.title},()=>[qt(Jt(e.title),1)])],2112)),e.draggable?(D(),q("span",{key:2,class:x([`${e.prefixCls}-icon`,`${e.prefixCls}-drag-icon`])},[L(" 拖拽图标 "),e.$slots["drag-icon"]?U(e.$slots,"drag-icon",Ye(A({key:0},e.nodeStatus))):e.dragIcon?(D(),P(o,A({key:1,"render-func":e.dragIcon},e.nodeStatus),null,16,["render-func"])):e.treeDragIcon?(D(),P(o,A({key:2,"render-func":e.treeDragIcon,node:e.treeNodeData},e.nodeStatus),null,16,["render-func","node"])):(D(),P(d,{key:3}))],2)):L("v-if",!0)],2)],42,kn),L(" 额外 "),e.extra?(D(),P(o,{key:1,"render-func":e.extra},null,8,["render-func"])):L("v-if",!0)],10,bn)}var Je=Ie(gn,[["render",mn]]);const Sn=pe({name:"ExpandTransition",props:{expanded:Boolean},emits:["end"],setup(e,{emit:t}){return{onEnter(a){const n=`${a.scrollHeight}px`;a.style.height=e.expanded?"0":n,a.offsetHeight,a.style.height=e.expanded?n:"0"},onAfterEnter(a){a.style.height=e.expanded?"":"0",t("end")},onBeforeLeave(a){a.style.display="none"}}}});function Cn(e,t,a,n,l,s){return D(),P(Qt,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave},{default:ae(()=>[U(e.$slots,"default")]),_:3},8,["onEnter","onAfterEnter","onBeforeLeave"])}var Kn=Ie(Sn,[["render",Cn]]);const Nn=pe({name:"TransitionNodeList",components:{ExpandTransition:Kn,BaseTreeNode:Je},props:{nodeKey:{type:[String,Number],required:!0}},setup(e){const a=[`${Le("tree")}-node-list`],n=Ae(),{nodeKey:l}=ee(e),s=k(()=>{var o,d;return(d=(o=n.expandedKeys)==null?void 0:o.includes)==null?void 0:d.call(o,l.value)}),r=k(()=>{var o;const d=new Set(n.expandedKeys||[]),i=(o=n.flattenTreeData)==null?void 0:o.filter(y=>{var m,K;return(m=y.pathParentKeys)!=null&&m.includes(l.value)?!n.filterTreeNode||((K=n.filterTreeNode)==null?void 0:K.call(n,y.treeNodeData)):!1});return i==null?void 0:i.filter(y=>{var m;if(s.value)return(m=y.pathParentKeys)==null?void 0:m.every(g=>d.has(g));const K=y.pathParentKeys.indexOf(l.value);return y.pathParentKeys.slice(K+1).every(g=>d.has(g))})}),c=k(()=>{var o,d;return((o=n.currentExpandKeys)==null?void 0:o.includes(l.value))&&((d=r.value)==null?void 0:d.length)});return{classNames:a,visibleNodeList:r,show:c,expanded:s,onTransitionEnd(){var o;(o=n.onExpandEnd)==null||o.call(n,l.value)}}}});function wn(e,t,a,n,l,s){const r=J("BaseTreeNode"),c=J("ExpandTransition");return D(),P(c,{expanded:e.expanded,onEnd:e.onTransitionEnd},{default:ae(()=>[e.show?(D(),q("div",{key:0,class:x(e.classNames)},[(D(!0),q(Be,null,Ze(e.visibleNodeList,o=>(D(),P(r,A({key:o.key,ref_for:!0},o.treeNodeProps),null,16))),128))],2)):L("v-if",!0)]),_:1},8,["expanded","onEnd"])}var Dn=Ie(Nn,[["render",wn]]),En=pe({name:"TreeNode",inheritAttrs:!1,props:{...Je.props},setup(e,{slots:t,attrs:a}){const n=St();return()=>le(Be,null,[le(Je,A(e,a,{key:n.value}),t),le(Dn,{key:n.value,nodeKey:n.value},null)])}});function Tn(e){const{defaultCheckedKeys:t,checkedKeys:a,key2TreeNode:n,checkStrictly:l,halfCheckedKeys:s,onlyCheckLeaf:r}=ee(e),c=V(!1),o=V([]),d=V([]),i=V(),y=V(),m=g=>un({initCheckedKeys:g,key2TreeNode:n.value,checkStrictly:l.value,onlyCheckLeaf:r.value}),K=g=>{const T=m(g);[o.value,d.value]=T};return K(a.value||(t==null?void 0:t.value)||[]),Fe(()=>{a.value?[i.value,y.value]=m(a.value):c.value&&(i.value=void 0,y.value=void 0,o.value=[],d.value=[]),c.value||(c.value=!0)}),{checkedKeys:k(()=>i.value||o.value),indeterminateKeys:k(()=>l.value&&s.value?s.value:y.value||d.value),setCheckedState(g,T,E=!1){return E?K(g):(o.value=g,d.value=T),[o.value,d.value]}}}function Ct(e){const{treeData:t,fieldNames:a,selectable:n,showLine:l,blockNode:s,checkable:r,loadMore:c,draggable:o}=ee(e),d=V([]);Fe(()=>{var m,K;d.value=fn(t.value||[],{selectable:(m=n==null?void 0:n.value)!=null?m:!1,showLine:!!(l!=null&&l.value),blockNode:!!(s!=null&&s.value),checkable:(K=r==null?void 0:r.value)!=null?K:!1,fieldNames:a==null?void 0:a.value,loadMore:!!(c!=null&&c.value),draggable:!!(o!=null&&o.value)})});const i=k(()=>on(d.value)),y=k(()=>rn(i.value));return{treeData:d,flattenTreeData:i,key2TreeNode:y}}const $n=pe({name:"Tree",components:{VirtualList:Ft,TreeNode:En},props:{size:{type:String,default:"medium"},blockNode:{type:Boolean},defaultExpandAll:{type:Boolean,default:!0},multiple:{type:Boolean},checkable:{type:[Boolean,String,Function],default:!1},selectable:{type:[Boolean,Function],default:!0},checkStrictly:{type:Boolean},checkedStrategy:{type:String,default:"all"},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:Array},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},data:{type:Array,default:()=>[]},fieldNames:{type:Object},showLine:{type:Boolean},loadMore:{type:Function},draggable:{type:Boolean},allowDrop:{type:Function},filterTreeNode:{type:Function},searchValue:{type:String,default:""},virtualListProps:{type:Object},defaultExpandSelected:{type:Boolean},defaultExpandChecked:{type:Boolean},autoExpandParent:{type:Boolean,default:!0},halfCheckedKeys:{type:Array},onlyCheckLeaf:{type:Boolean,default:!1},animation:{type:Boolean,default:!0},actionOnNodeClick:{type:String},disableSelectActionOnly:{type:Boolean,default:!1}},emits:{select:(e,t)=>!0,"update:selectedKeys":e=>!0,check:(e,t)=>!0,"update:checkedKeys":e=>!0,"update:halfCheckedKeys":e=>!0,expand:(e,t)=>!0,"update:expandedKeys":e=>!0,dragStart:(e,t)=>!0,dragEnd:(e,t)=>!0,dragOver:(e,t)=>!0,dragLeave:(e,t)=>!0,drop:e=>!0},setup(e,{emit:t,slots:a}){const{data:n,showLine:l,multiple:s,loadMore:r,checkStrictly:c,checkedKeys:o,defaultCheckedKeys:d,selectedKeys:i,defaultSelectedKeys:y,expandedKeys:m,defaultExpandedKeys:K,checkedStrategy:g,selectable:T,checkable:E,blockNode:B,fieldNames:j,size:Y,defaultExpandAll:w,filterTreeNode:I,draggable:M,allowDrop:W,defaultExpandSelected:H,defaultExpandChecked:O,autoExpandParent:oe,halfCheckedKeys:re,onlyCheckLeaf:fe,animation:G}=ee(e),R=Le("tree"),X=k(()=>[`${R}`,{[`${R}-checkable`]:E.value,[`${R}-show-line`]:l.value},`${R}-size-${Y.value}`]),te=ye(a,"switcher-icon"),v=ye(a,"loading-icon"),S=ye(a,"drag-icon"),z=ye(a,"icon"),ne=ye(a,"title"),je=ye(a,"extra"),{treeData:Me,flattenTreeData:Ee,key2TreeNode:$}=Ct(_({treeData:n,selectable:T,showLine:l,blockNode:B,checkable:E,fieldNames:j,loadMore:r,draggable:M})),{checkedKeys:he,indeterminateKeys:se,setCheckedState:Ce}=Tn(_({defaultCheckedKeys:d,checkedKeys:o,checkStrictly:c,key2TreeNode:$,halfCheckedKeys:re,onlyCheckLeaf:fe})),[Q,ge]=Ue((y==null?void 0:y.value)||[],_({value:i})),ue=V([]),de=V();function Re(){if(K!=null&&K.value){const u=new Set([]);return K.value.forEach(p=>{if(u.has(p))return;const f=$.value.get(p);f&&[...oe.value?f.pathParentKeys:[],p].forEach(h=>u.add(h))}),[...u]}if(w.value)return Ee.value.filter(u=>u.children&&u.children.length).map(u=>u.key);if(H.value||O.value){const u=new Set([]),p=f=>{f.forEach(h=>{const b=$.value.get(h);b&&(b.pathParentKeys||[]).forEach(N=>u.add(N))})};return H.value&&p(Q.value),O.value&&p(he.value),[...u]}return[]}const[ie,Te]=Ue(Re(),_({value:m})),ce=V([]),ze=k(()=>{const u=new Set(ie.value),p=new Set(ce.value);return Ee.value.filter(f=>{var h;if(!(!I||!I.value||(I==null?void 0:I.value(f.treeNodeData))))return!1;const N=ve(f.parentKey),me=(h=f.pathParentKeys)==null?void 0:h.every(Ne=>u.has(Ne)&&!p.has(Ne));return N||me})});function be(u,p=g.value){let f=[...u];return p==="parent"?f=u.filter(h=>{const b=$.value.get(h);return b&&!(!ve(b.parentKey)&&u.includes(b.parentKey))}):p==="child"&&(f=u.filter(h=>{var b,N;return!((N=(b=$.value.get(h))==null?void 0:b.children)!=null&&N.length)})),f}function ke(u){return u.map(p=>{var f;return((f=$.value.get(p))==null?void 0:f.treeNodeData)||void 0}).filter(Boolean)}function Pe(u){const{targetKey:p,targetChecked:f,newCheckedKeys:h,newIndeterminateKeys:b,event:N}=u,me=p?$.value.get(p):void 0,Ne=be(h);t("update:checkedKeys",Ne),t("update:halfCheckedKeys",b),t("check",Ne,{checked:f,node:me==null?void 0:me.treeNodeData,checkedNodes:ke(Ne),halfCheckedKeys:b,halfCheckedNodes:ke(b),e:N})}function C(u){const{targetKey:p,targetSelected:f,newSelectedKeys:h,event:b}=u,N=p?$.value.get(p):void 0;t("update:selectedKeys",h),t("select",h,{selected:f,node:N==null?void 0:N.treeNodeData,selectedNodes:ke(h),e:b})}function F(u){const{targetKey:p,targetExpanded:f,newExpandedKeys:h,event:b}=u,N=p?$.value.get(p):void 0;t("expand",h,{expanded:f,node:N==null?void 0:N.treeNodeData,expandedNodes:ke(h),e:b}),t("update:expandedKeys",h)}function Z(u){const[p,f]=Ce(u,[],!0);Pe({newCheckedKeys:p,newIndeterminateKeys:f})}function Ke(u){let p=u;!s.value&&u.length>1&&(p=[u[0]]),ge(p),C({newSelectedKeys:p})}function Oe(u){ce.value=[],Te(u),F({newExpandedKeys:u})}function Nt(u,p,f){if(!u.length)return;let h=[...he.value],b=[...se.value];u.forEach(N=>{const me=$.value.get(N);me&&([h,b]=qe({node:me,checked:p,checkedKeys:[...h],indeterminateKeys:[...b],checkStrictly:c.value}))}),Ce(h,b),Pe({targetKey:f,targetChecked:ve(f)?void 0:p,newCheckedKeys:h,newIndeterminateKeys:b})}function wt(u,p,f){if(!u.length)return;let h;if(s.value){const b=new Set(Q.value);u.forEach(N=>{p?b.add(N):b.delete(N)}),h=[...b]}else h=p?[u[0]]:[];ge(h),C({targetKey:f,targetSelected:ve(f)?void 0:p,newSelectedKeys:h})}function Dt(u,p,f){const h=new Set(ie.value);u.forEach(N=>{p?h.add(N):h.delete(N),lt(N)});const b=[...h];Te(b),F({targetKey:f,targetExpanded:ve(f)?void 0:p,newExpandedKeys:b})}function nt(u,p,f){const h=$.value.get(p);if(!h)return;const[b,N]=qe({node:h,checked:u,checkedKeys:he.value,indeterminateKeys:se.value,checkStrictly:c.value});Ce(b,N),Pe({targetKey:p,targetChecked:u,newCheckedKeys:b,newIndeterminateKeys:N,event:f})}function Et(u,p){if(!$.value.get(u))return;let h,b;if(s.value){const N=new Set(Q.value);b=!N.has(u),b?N.add(u):N.delete(u),h=[...N]}else b=!0,h=[u];ge(h),C({targetKey:u,targetSelected:b,newSelectedKeys:h,event:p})}function at(u,p,f){if(ce.value.includes(p)||!$.value.get(p))return;const b=new Set(ie.value);u?b.add(p):b.delete(p);const N=[...b];Te(N),G.value&&ce.value.push(p),F({targetKey:p,targetExpanded:u,newExpandedKeys:N,event:f})}function lt(u){const p=ce.value.indexOf(u);ce.value.splice(p,1)}const Tt=k(()=>r!=null&&r.value?async u=>{if(!De(r.value))return;const p=$.value.get(u);if(!p)return;const{treeNodeData:f}=p;ue.value=[...new Set([...ue.value,u])];try{await r.value(f),ue.value=ue.value.filter(h=>h!==u),at(!0,u),he.value.includes(u)&&nt(!0,u)}catch(h){ue.value=ue.value.filter(b=>b!==u),console.error("[tree]load data error: ",h)}}:void 0),ot=_({treeProps:e,switcherIcon:te,loadingIcon:v,dragIcon:S,nodeIcon:z,nodeTitle:ne,nodeExtra:je,treeData:Me,flattenTreeData:Ee,key2TreeNode:$,checkedKeys:he,indeterminateKeys:se,selectedKeys:Q,expandedKeys:ie,loadingKeys:ue,currentExpandKeys:ce,onLoadMore:Tt,filterTreeNode:I,onCheck:nt,onSelect:Et,onExpand:at,onExpandEnd:lt,allowDrop(u,p){const f=$.value.get(u);return f&&De(W.value)?!!W.value({dropNode:f.treeNodeData,dropPosition:p}):!0},onDragStart(u,p){const f=$.value.get(u);de.value=f,f&&t("dragStart",p,f.treeNodeData)},onDragEnd(u,p){const f=$.value.get(u);de.value=void 0,f&&t("dragEnd",p,f.treeNodeData)},onDragOver(u,p){const f=$.value.get(u);f&&t("dragOver",p,f.treeNodeData)},onDragLeave(u,p){const f=$.value.get(u);f&&t("dragLeave",p,f.treeNodeData)},onDrop(u,p,f){const h=$.value.get(u);de.value&&h&&!(h.key===de.value.key||h.pathParentKeys.includes(de.value.key||""))&&t("drop",{e:f,dragNode:de.value.treeNodeData,dropNode:h.treeNodeData,dropPosition:p})}});return Zt(bt,ot),{classNames:X,visibleTreeNodeList:ze,treeContext:ot,virtualListRef:V(),computedSelectedKeys:Q,computedExpandedKeys:ie,computedCheckedKeys:he,computedIndeterminateKeys:se,getPublicCheckedKeys:be,getNodes:ke,internalCheckNodes:Nt,internalSetCheckedKeys:Z,internalSelectNodes:wt,internalSetSelectedKeys:Ke,internalExpandNodes:Dt,internalSetExpandedKeys:Oe}},methods:{toggleCheck(e,t){const{key2TreeNode:a,onCheck:n,checkedKeys:l}=this.treeContext,s=!l.includes(e),r=a.get(e);r&&Se(r)&&n(s,e,t)},scrollIntoView(e){this.virtualListRef&&this.virtualListRef.scrollTo(e)},getSelectedNodes(){return this.getNodes(this.computedSelectedKeys)},getCheckedNodes(e={}){const{checkedStrategy:t,includeHalfChecked:a}=e,n=this.getPublicCheckedKeys(this.computedCheckedKeys,t);return[...this.getNodes(n),...a?this.getHalfCheckedNodes():[]]},getHalfCheckedNodes(){return this.getNodes(this.computedIndeterminateKeys)},getExpandedNodes(){return this.getNodes(this.computedExpandedKeys)},checkAll(e=!0){const{key2TreeNode:t}=this.treeContext,a=e?[...t.keys()].filter(n=>{const l=t.get(n);return l&&Se(l)}):[];this.internalSetCheckedKeys(a)},checkNode(e,t=!0,a=!1){const{checkStrictly:n,treeContext:l}=this,{key2TreeNode:s}=l,r=Ve(e),c=(r?e:[e]).filter(o=>{const d=s.get(o);return d&&Se(d)&&(n||!a||sn(d))});this.internalCheckNodes(c,t,r?void 0:e)},selectAll(e=!0){const{key2TreeNode:t}=this.treeContext,a=e?[...t.keys()].filter(n=>{const l=t.get(n);return l&&We(l)}):[];this.internalSetSelectedKeys(a)},selectNode(e,t=!0){const{key2TreeNode:a}=this.treeContext,n=Ve(e),l=(n?e:[e]).filter(s=>{const r=a.get(s);return r&&We(r)});this.internalSelectNodes(l,t,n?void 0:e)},expandAll(e=!0){const{key2TreeNode:t}=this.treeContext,a=e?[...t.keys()].filter(n=>{const l=t.get(n);return l&&ut(l)}):[];this.internalSetExpandedKeys(a)},expandNode(e,t=!0){const{key2TreeNode:a}=this.treeContext,n=Ve(e),l=(n?e:[e]).filter(s=>{const r=a.get(s);return r&&ut(r)});this.internalExpandNodes(l,t,n?void 0:e)}}});function Vn(e,t,a,n,l,s){const r=J("TreeNode"),c=J("VirtualList");return D(),q("div",{class:x(e.classNames)},[e.virtualListProps?(D(),P(c,A({key:0,ref:"virtualListRef"},e.virtualListProps,{data:e.visibleTreeNodeList}),{item:ae(({item:o})=>[(D(),P(r,A({key:`${e.searchValue}-${o.key}`},o.treeNodeProps),null,16))]),_:1},16,["data"])):(D(!0),q(Be,{key:1},Ze(e.visibleTreeNodeList,o=>(D(),P(r,A({key:o.key,ref_for:!0},o.treeNodeProps),null,16))),128))],2)}var He=Ie($n,[["render",Vn]]);const it=Object.assign(He,{install:(e,t)=>{pt(e,t);const a=ft(t);e.component(a+He.name,He)}});function Bn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_t(e)}var In=pe({name:"TreeSelectPanel",components:{Tree:it},props:{treeProps:{type:Object,default:()=>({})},selectedKeys:{type:Array},showCheckable:{type:Boolean},treeSlots:{type:Object,default:()=>({})},scrollbar:{type:[Boolean,Object],default:!0}},emits:["change"],setup(e,{emit:t}){const{showCheckable:a,selectedKeys:n,treeProps:l,scrollbar:s}=ee(e),{displayScrollbar:r,scrollbarProps:c}=At(s),o=Le("tree-select"),d=V(),i=k(()=>({...l.value,disableSelectActionOnly:!0,checkedKeys:a.value?n.value:[],selectedKeys:a.value?[]:n.value})),y=(g,T)=>{var E,B;a.value?(B=(E=d.value)==null?void 0:E.toggleCheck)==null||B.call(E,g[0],T):t("change",g)},m=g=>{t("change",g)},K=()=>le(it,A({ref:d},i.value,{onSelect:y,onCheck:m}),e.treeSlots);return()=>{if(r.value){let g;return le(jt,A({class:`${o}-tree-wrapper`},c.value),Bn(g=K())?g:{default:()=>[g]})}return le("div",{class:`${o}-tree-wrapper`},[K()])}}});function et(e){return Qe(e)}function Kt(e){return e!=null&&e!==""}function tt(e){return et(e)?e.value:e}function Ln(e){return et(e)?e.label:void 0}function ct(e){const t=tt(e);return Kt(t)}function vt(e){return e.map(tt).filter(Kt)}function Pn(e){var t;const{defaultValue:a,modelValue:n,key2TreeNode:l,multiple:s,treeCheckable:r,fallbackOption:c,fieldNames:o}=ee(e);function d(w){const I=(Ve(w)?w:[w]).filter(ct);return s!=null&&s.value||r!=null&&r.value?I:I.slice(0,1)}function i(w,I){const M=[],W=w?w.filter(ct):[];if(W.length){const H=new Map;I==null||I.forEach(O=>{H.set(O.value,O)}),W.forEach(O=>{var oe,re,fe,G,R;const X=tt(O),te=H.get(X),v=l.value.get(X);let S=null;const z=((oe=o==null?void 0:o.value)==null?void 0:oe.title)||"title";if(!v){const ne=De(c==null?void 0:c.value)?c==null?void 0:c.value(X):c==null?void 0:c.value;if(ne===!1)return;Qe(ne)&&(S=ne)}M.push({...et(O)?O:{},...te||{},value:X,label:(R=(G=(fe=(re=Ln(O))!=null?re:v==null?void 0:v.title)!=null?fe:te==null?void 0:te.label)!=null?G:S==null?void 0:S[z])!=null?R:X})})}return M}const y=V(),m=V();Fe(()=>{var w;const I=(n==null?void 0:n.value)!==void 0,M=d((w=n==null?void 0:n.value)!=null?w:[]),W=vt(M);m.value=I?i(W,i(M)):void 0,y.value=I?W:void 0});const K=d((t=a==null?void 0:a.value)!=null?t:[]),g=vt(K),T=i(g,i(K)),E=V(g||[]),B=V(T);st(E,()=>{B.value=i(E.value,T)}),st([y,m],([w,I])=>{E.value=w||[],B.value=I||[]});const j=k(()=>{var w;return(w=y.value)!=null?w:E.value}),Y=k(()=>{var w;return(w=m.value)!=null?w:B.value});return{selectedKeys:j,selectedValue:Y,setLocalSelectedKeys(w){E.value=w},localSelectedKeys:E,localSelectedValue:B}}function On(e){const{searchValue:t,flattenTreeData:a,filterMethod:n,disableFilter:l,fieldNames:s}=ee(e),r=k(()=>{var g;return((g=s.value)==null?void 0:g.key)||"key"}),c=(g,T)=>{const E=T[r.value];return!ve(E)&&String(E).indexOf(g)>-1},o=k(()=>(n==null?void 0:n.value)||c),d=V(),i=k(()=>!!t.value),y=k(()=>!(l!=null&&l.value)&&i.value&&d.value&&d.value.size===0),m=k(()=>l!=null&&l.value?void 0:g=>{var T,E;if(!i.value)return!0;const B=g[r.value];return(E=(T=d.value)==null?void 0:T.has(B||""))!=null?E:!1}),K=Mt((g,T)=>{const E=g.filter(j=>o.value(T,j.treeNodeData)),B=new Set;E.forEach(j=>{B.add(j.key),j.pathParentKeys.forEach(Y=>{B.add(Y)})}),d.value=B},100);return Fe(()=>{l!=null&&l.value?d.value=void 0:K(a.value,t.value)}),{isEmptyFilterResult:y,filterTreeNode:m}}function Fn(e,t){const a=`${t}-slot-`;return Object.keys(e).reduce((l,s)=>{if(s.startsWith(a)){const r=s.slice(a.length);r&&(l[r]=e[s])}return l},{})}const An=pe({name:"TreeSelect",components:{Trigger:Rt,SelectView:zt,Panel:In,Empty:Ht,Spin:xt},inheritAttrs:!1,props:{disabled:{type:Boolean},loading:{type:Boolean},error:{type:Boolean},size:{type:String},border:{type:Boolean,default:!0},allowSearch:{type:[Boolean,Object],default:e=>!!e.multiple},allowClear:{type:Boolean},placeholder:{type:String},maxTagCount:{type:Number},multiple:{type:Boolean},defaultValue:{type:[String,Number,Array,Object]},modelValue:{type:[String,Number,Array,Object]},fieldNames:{type:Object},data:{type:Array,default:()=>[]},labelInValue:{type:Boolean},treeCheckable:{type:Boolean},treeCheckStrictly:{type:Boolean},treeCheckedStrategy:{type:String,default:"all"},treeProps:{type:Object},triggerProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean},dropdownStyle:{type:Object},dropdownClassName:{type:[String,Array]},filterTreeNode:{type:Function},loadMore:{type:Function},disableFilter:{type:Boolean},popupContainer:{type:[String,Object]},fallbackOption:{type:[Boolean,Function],default:!0},selectable:{type:[Boolean,String,Function],default:!0},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1},inputValue:{type:String},defaultInputValue:{type:String,default:""}},emits:{change:e=>!0,"update:modelValue":e=>!0,"update:inputValue":e=>!0,"popup-visible-change":e=>!0,"update:popupVisible":e=>!0,search:e=>!0,clear:()=>!0,inputValueChange:e=>!0},setup(e,{emit:t,slots:a}){var n,l,s;const{defaultValue:r,modelValue:c,multiple:o,popupVisible:d,defaultPopupVisible:i,treeCheckable:y,treeCheckStrictly:m,data:K,fieldNames:g,disabled:T,labelInValue:E,filterTreeNode:B,disableFilter:j,dropdownStyle:Y,treeProps:w,fallbackOption:I,selectable:M,dropdownClassName:W}=ee(e),{mergedDisabled:H,eventHandlers:O}=Ut({disabled:T}),oe=Le("tree-select"),re=ht(Yt,void 0),fe=(s=(l=re==null?void 0:(n=re.slots).empty)==null?void 0:l.call(n,{component:"tree-select"}))==null?void 0:s[0],G=k(()=>o.value||y.value),R=(C,F)=>{var Z;return M.value==="leaf"?F.isLeaf:De(M.value)?M.value(C,F):(Z=M.value)!=null?Z:!1},X=k(()=>y.value?R:!1),te=k(()=>Qe(e.allowSearch)&&!!e.allowSearch.retainInputValue),{flattenTreeData:v,key2TreeNode:S}=Ct(_({treeData:K,fieldNames:g,selectable:R,checkable:X})),{selectedKeys:z,selectedValue:ne,setLocalSelectedKeys:je,localSelectedKeys:Me,localSelectedValue:Ee}=Pn(_({defaultValue:r,modelValue:c,key2TreeNode:S,multiple:o,treeCheckable:y,treeCheckStrictly:m,fallbackOption:I,fieldNames:g}));function $(C){return y.value?Se(C):We(C)}const he=k(()=>ve(ne.value)?[]:G.value&&!H.value?ne.value.map(C=>{const F=S.value.get(C.value);return{...C,closable:!F||$(F)}}):ne.value),se=C=>{je(C),an(()=>{var F,Z;const Ke=(E.value?Ee.value:Me.value)||[],Oe=G.value?Ke:Ke[0];t("update:modelValue",Oe),t("change",Oe),(Z=(F=O.value)==null?void 0:F.onChange)==null||Z.call(F)})},Ce=V(e.defaultInputValue),Q=k(()=>{var C;return(C=e.inputValue)!=null?C:Ce.value}),ge=C=>{Ce.value=C,t("update:inputValue",C),t("inputValueChange",C)},ue=C=>{C!==Q.value&&(ie(!0),ge(C),e.allowSearch&&t("search",C))},[de,Re]=Ue(i.value,_({value:d})),ie=C=>{C!==de.value&&(Re(C),t("popup-visible-change",C),t("update:popupVisible",C)),C||be.value&&be.value.blur&&be.value.blur()},{isEmptyFilterResult:Te,filterTreeNode:ce}=On(_({searchValue:Q,flattenTreeData:v,filterMethod:B,disableFilter:j,fieldNames:g})),ze=k(()=>!v.value.length||Te.value),be=V(),ke=k(()=>{var C;return[(Y==null?void 0:Y.value)||{},(C=w==null?void 0:w.value)!=null&&C.virtualListProps?{"max-height":"unset"}:{}]});return{refSelectView:be,prefixCls:oe,TreeSelectEmpty:fe,selectedValue:ne,selectedKeys:z,mergedDisabled:H,searchValue:Q,panelVisible:de,isEmpty:ze,computedFilterTreeNode:ce,isMultiple:G,selectViewValue:he,computedDropdownStyle:ke,onSearchValueChange:ue,onSelectChange(C){se(C),!te.value&&Q.value&&ge(""),G.value||ie(!1)},onVisibleChange:ie,onInnerClear(){se([]),t("clear")},pickSubCompSlots:Fn,isSelectable:R,isCheckable:X,onBlur:()=>{!te.value&&Q.value&&ge("")},onItemRemove(C){if(H.value)return;const F=S.value.get(C);if(y.value&&F){if($(F)){const[Z]=qe({node:F,checked:!1,checkedKeys:z.value,indeterminateKeys:[],checkStrictly:m.value});se(Z)}}else{const Z=z.value.filter(Ke=>Ke!==C);se(Z)}}}}});function jn(e,t,a,n,l,s){const r=J("SelectView"),c=J("Spin"),o=J("Panel"),d=J("Trigger");return D(),P(d,A({class:`${e.prefixCls}-trigger`,"auto-fit-popup-min-width":"",trigger:"click",position:"bl","popup-offset":4,"animation-name":"slide-dynamic-origin","prevent-focus":!0},e.triggerProps,{disabled:e.mergedDisabled,"popup-visible":e.panelVisible,"popup-container":e.popupContainer,"click-to-close":!e.allowSearch,"auto-fit-transform-origin":"",onPopupVisibleChange:e.onVisibleChange}),{content:ae(()=>[$e("div",{class:x([`${e.prefixCls}-popup`,{[`${e.prefixCls}-has-header`]:!!e.$slots.header,[`${e.prefixCls}-has-footer`]:!!e.$slots.footer},e.dropdownClassName]),style:en(e.computedDropdownStyle)},[e.$slots.header&&(!e.isEmpty||e.showHeaderOnEmpty)?(D(),q("div",{key:0,class:x(`${e.prefixCls}-header`)},[U(e.$slots,"header")],2)):L("v-if",!0),e.loading?U(e.$slots,"loader",{key:1},()=>[le(c)]):e.isEmpty?U(e.$slots,"empty",{key:2},()=>[(D(),P(tn(e.TreeSelectEmpty?e.TreeSelectEmpty:"Empty")))]):(D(),P(o,{key:3,"selected-keys":e.selectedKeys,"show-checkable":e.treeCheckable,scrollbar:e.scrollbar,"tree-props":{actionOnNodeClick:e.selectable==="leaf"?"expand":void 0,blockNode:!0,...e.treeProps,data:e.data,checkStrictly:e.treeCheckStrictly,checkedStrategy:e.treeCheckedStrategy,fieldNames:e.fieldNames,multiple:e.multiple,loadMore:e.loadMore,filterTreeNode:e.computedFilterTreeNode,size:e.size,checkable:e.isCheckable,selectable:e.isSelectable,searchValue:e.searchValue},"tree-slots":e.pickSubCompSlots(e.$slots,"tree"),onChange:e.onSelectChange},null,8,["selected-keys","show-checkable","scrollbar","tree-props","tree-slots","onChange"])),e.$slots.footer&&(!e.isEmpty||e.showFooterOnEmpty)?(D(),q("div",{key:4,class:x(`${e.prefixCls}-footer`)},[U(e.$slots,"footer")],2)):L("v-if",!0)],6)]),default:ae(()=>[U(e.$slots,"trigger",{},()=>[le(r,A({ref:"refSelectView","model-value":e.selectViewValue,"input-value":e.searchValue,"allow-search":!!e.allowSearch,"allow-clear":e.allowClear,loading:e.loading,size:e.size,"max-tag-count":e.maxTagCount,disabled:e.mergedDisabled,opened:e.panelVisible,error:e.error,bordered:e.border,placeholder:e.placeholder,multiple:e.isMultiple},e.$attrs,{onInputValueChange:e.onSearchValueChange,onClear:e.onInnerClear,onRemove:e.onItemRemove,onBlur:e.onBlur}),yt({_:2},[e.$slots.prefix?{name:"prefix",fn:ae(()=>[U(e.$slots,"prefix")]),key:"0"}:void 0,e.$slots.label?{name:"label",fn:ae(i=>[U(e.$slots,"label",Ye(nn(i)))]),key:"1"}:void 0]),1040,["model-value","input-value","allow-search","allow-clear","loading","size","max-tag-count","disabled","opened","error","bordered","placeholder","multiple","onInputValueChange","onClear","onRemove","onBlur"])])]),_:3},16,["class","disabled","popup-visible","popup-container","click-to-close","onPopupVisibleChange"])}var xe=Ie(An,[["render",jn]]);const Mn=Object.assign(xe,{install:(e,t)=>{pt(e,t);const a=ft(t);e.component(a+xe.name,xe)}}),Yn=pe({name:"Select",__name:"index",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=t,l=k({get:()=>a.modelValue,set:s=>{n("update:modelValue",s)}});return(s,r)=>{const c=Mn;return D(),P(Wt,null,{default:ae(()=>[le(c,A({modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=o=>l.value=o)},s.$attrs),null,16,["modelValue"])]),_:1})}}});export{Yn as default};
