import{a0 as O,al as T,B as V,v as D}from"./index-6adc951f.6b180361.js";import{_ as S,o as h,c as u,v as c,D as v,Z as $,n as B,z as w,M as I,t as N,ac as M,ay as j,F,J as H,A as _,C as f,x as R,d as z,k as P,f as L,i as Y,y as x,b as W,a as G}from"./framework.b469e8f1.js";import{t as J}from"./index-1df520ce.4177fecd.js";const b={methods:{setColorValue(e){let t={r:0,g:0,b:0,a:1};/#/.test(e)?t=this.hex2rgb(e):/rgb/.test(e)?t=this.rgb2rgba(e):typeof e=="string"?t=this.rgb2rgba(`rgba(${e})`):Object.prototype.toString.call(e)==="[object Object]"&&(t=e);const{r:s,g:i,b:o,a:r}=t,{h:n,s:l,v:a}=this.rgb2hsv(t);return{r:s,g:i,b:o,a:r===void 0?1:r,h:n,s:l,v:a}},createAlphaSquare(e){const t=document.createElement("canvas"),s=t.getContext("2d"),i=e*2;return t.width=i,t.height=i,s.fillStyle="#ffffff",s.fillRect(0,0,i,i),s.fillStyle="#ccd5db",s.fillRect(0,0,e,e),s.fillRect(e,e,e,e),t},createLinearGradient(e,t,s,i,o,r){const n=e==="l",l=t.createLinearGradient(0,0,n?s:0,n?0:i);l.addColorStop(.01,o),l.addColorStop(.99,r),t.fillStyle=l,t.fillRect(0,0,s,i)},rgb2hex({r:e,g:t,b:s},i){const o=n=>("0"+Number(n).toString(16)).slice(-2),r=`#${o(e)}${o(t)}${o(s)}`;return i?r.toUpperCase():r},hex2rgb(e){e=e.slice(1);const t=s=>parseInt(s,16)||0;return{r:t(e.slice(0,2)),g:t(e.slice(2,4)),b:t(e.slice(4,6))}},rgb2rgba(e){return typeof e=="string"?(e=(/rgba?\((.*?)\)/.exec(e)||["","0,0,0,1"])[1].split(","),{r:Number(e[0])||0,g:Number(e[1])||0,b:Number(e[2])||0,a:Number(e[3]?e[3]:1)}):e},rgb2hsv({r:e,g:t,b:s}){e=e/255,t=t/255,s=s/255;const i=Math.max(e,t,s),o=Math.min(e,t,s),r=i-o;let n=0;i===o?n=0:i===e?t>=s?n=60*(t-s)/r:n=60*(t-s)/r+360:i===t?n=60*(s-e)/r+120:i===s&&(n=60*(e-t)/r+240),n=Math.floor(n);let l=parseFloat((i===0?0:1-o/i).toFixed(2)),a=parseFloat(i.toFixed(2));return{h:n,s:l,v:a}}}};const K={mixins:[b],props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},data(){return{slideSaturationStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasSaturation,t=this.size,s=e.getContext("2d");e.width=t,e.height=t,s.fillStyle=this.color,s.fillRect(0,0,t,t),this.createLinearGradient("l",s,t,t,"#FFFFFF","rgba(255,255,255,0)"),this.createLinearGradient("p",s,t,t,"rgba(0,0,0,0)","#000000")},renderSlide(){this.slideSaturationStyle={left:this.hsv.s*this.size-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation(e){const{top:t,left:s}=this.$el.getBoundingClientRect(),i=e.target.getContext("2d"),o=n=>{let l=n.clientX-s,a=n.clientY-t;l<0&&(l=0),a<0&&(a=0),l>this.size&&(l=this.size),a>this.size&&(a=this.size),this.slideSaturationStyle={left:l-5+"px",top:a-5+"px"};const p=i.getImageData(Math.min(l,this.size-1),Math.min(a,this.size-1),1,1),[d,g,m]=p.data;this.$emit("selectSaturation",{r:d,g,b:m})};o(e);const r=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)}}},X={ref:"canvasSaturation"};function U(e,t,s,i,o,r){return h(),u("div",{class:"saturation",onMousedown:t[0]||(t[0]=$((...n)=>r.selectSaturation&&r.selectSaturation(...n),["prevent","stop"]))},[c("canvas",X,null,512),c("div",{style:v(o.slideSaturationStyle),class:"slide"},null,4)],32)}const q=S(K,[["render",U]]);const Q={props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},data(){return{slideHueStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasHue,t=this.width,s=this.height,i=e.getContext("2d");e.width=t,e.height=s;const o=i.createLinearGradient(0,0,0,s);o.addColorStop(0,"#FF0000"),o.addColorStop(.17*1,"#FF00FF"),o.addColorStop(.17*2,"#0000FF"),o.addColorStop(.17*3,"#00FFFF"),o.addColorStop(.17*4,"#00FF00"),o.addColorStop(.17*5,"#FFFF00"),o.addColorStop(1,"#FF0000"),i.fillStyle=o,i.fillRect(0,0,t,s)},renderSlide(){this.slideHueStyle={top:(1-this.hsv.h/360)*this.height-2+"px"}},selectHue(e){const{top:t}=this.$el.getBoundingClientRect(),s=e.target.getContext("2d"),i=r=>{let n=r.clientY-t;n<0&&(n=0),n>this.height&&(n=this.height),this.slideHueStyle={top:n-2+"px"};const l=s.getImageData(0,Math.min(n,this.height-1),1,1),[a,p,d]=l.data;this.$emit("selectHue",{r:a,g:p,b:d})};i(e);const o=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",o)}}},Z={ref:"canvasHue"};function ee(e,t,s,i,o,r){return h(),u("div",{class:"hue",onMousedown:t[0]||(t[0]=$((...n)=>r.selectHue&&r.selectHue(...n),["prevent","stop"]))},[c("canvas",Z,null,512),c("div",{style:v(o.slideHueStyle),class:"slide"},null,4)],32)}const te=S(Q,[["render",ee]]);const se={mixins:[b],props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},data(){return{slideAlphaStyle:{},alphaSize:5}},watch:{color(){this.renderColor()},"rgba.a"(){this.renderSlide()}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasAlpha,t=this.width,s=this.height,i=this.alphaSize,o=this.createAlphaSquare(i),r=e.getContext("2d");e.width=t,e.height=s,r.fillStyle=r.createPattern(o,"repeat"),r.fillRect(0,0,t,s),this.createLinearGradient("p",r,t,s,"rgba(255,255,255,0)",this.color)},renderSlide(){this.slideAlphaStyle={top:this.rgba.a*this.height-2+"px"}},selectAlpha(e){const{top:t}=this.$el.getBoundingClientRect(),s=o=>{let r=o.clientY-t;r<0&&(r=0),r>this.height&&(r=this.height);let n=parseFloat((r/this.height).toFixed(2));this.$emit("selectAlpha",n)};s(e);const i=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)}}},re={ref:"canvasAlpha"};function oe(e,t,s,i,o,r){return h(),u("div",{class:"color-alpha",onMousedown:t[0]||(t[0]=$((...n)=>r.selectAlpha&&r.selectAlpha(...n),["prevent","stop"]))},[c("canvas",re,null,512),c("div",{style:v(o.slideAlphaStyle),class:"slide"},null,4)],32)}const ie=S(se,[["render",oe]]),ne={mixins:[b],props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},data(){return{alphaSize:5}},watch:{color(){this.renderColor()}},mounted(){this.renderColor()},methods:{renderColor(){const e=this.$el,t=this.width,s=this.height,i=this.alphaSize,o=this.createAlphaSquare(i),r=e.getContext("2d");e.width=t,e.height=s,r.fillStyle=r.createPattern(o,"repeat"),r.fillRect(0,0,t,s),r.fillStyle=this.color,r.fillRect(0,0,t,s)}}};function le(e,t,s,i,o,r){return h(),u("canvas")}const ae=S(ne,[["render",le]]),ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAlBJREFUOBGNkk2IUlEUx+99vufXQvCjEA11YWgk7TTLZhwVLTfSRmY1QbOoTdMqad0iiGB20cpVUAt3SVHCJDJG40IXBVGLIIOB8hM/QPy+/a/xYqK38MJ99757zu9/zj3nUrLmiEajdkEQni6Xy6hKpfqB/eNCofCMrsOHQiEPgPfwtdhsNkYpJe12m0LolkpJIJFI7DkcDm+9Xv/o9/vPw+dwsVhYnE4nc7lc1G63016vx8bj8TlRSWA6nd6cz+cXAoHAGYD3sDdarVam1+vpaDRaITgjjLHTigKArkK9ifXhbDYjBoOBSZL0F261Wqzb7VKtVvtBUQCwi4N88kjD4ZAg+ioyT53DGo3mJwLs/VcD3PkyrnAwmUwks9n8YDAYuPBvxGQASL/fp8imiwJeKZVK3/4R4DAicliLIt4pFosvsH9Vq9Wu4b5GCHC4j+hb5XL5C09JWOWFTzAY3MJyAAHJ7XbfRo9fclsmk2maTKY8IhJRFAna+QTwJ27jYyUQDofj6O1bPBLJ6/Xu5vP5N3/MhMC2gxrcReTvEGio1er7eFRR2S7EYrE40nsNWPB4PLu5XO6dbIxEIjuo+COkfAyfTZ1OF4dIHyJnZR8RkZ/zH5/PdyObzR7KhmQyud3pdFYw2rVRqVSOYePTIvvwVYDyKThUT8KpVGq70WjsI/Iv+HC4zp2VhoiiEP625ZFOp683m819iLZxtlGtVuuyTWmlePcM9x9A6DNWikd0EYJtdGPz6OjoqxJ08ox3oQzYgKtcwgwi7Q5athbMhX4DL0sglf8ys78AAAAASUVORK5CYII=";const he={props:{suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]}},data(){return{isOpenSucker:!1,suckerPreview:null,isSucking:!1}},watch:{suckerCanvas(e){this.isSucking=!1,this.suckColor(e),e.style.cursor=`url(${ce}) 0 32, default`}},methods:{openSucker(){this.isOpenSucker?this.keydownHandler({keyCode:27}):(this.isOpenSucker=!0,this.isSucking=!0,this.$emit("openSucker",!0),document.addEventListener("keydown",this.keydownHandler))},keydownHandler(e){e.keyCode===27&&(this.isOpenSucker=!1,this.isSucking=!1,this.$emit("openSucker",!1),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("mousemove",this.mousemoveHandler),document.removeEventListener("mouseup",this.mousemoveHandler),this.suckerPreview&&(document.body.removeChild(this.suckerPreview),this.suckerPreview=null))},mousemoveHandler(e){const{clientX:t,clientY:s}=e,{top:i,left:o,width:r,height:n}=this.suckerCanvas.getBoundingClientRect(),l=t-o,a=s-i,d=this.suckerCanvas.getContext("2d").getImageData(Math.min(l,r-1),Math.min(a,n-1),1,1);let[g,m,k,C]=d.data;C=parseFloat((C/255).toFixed(2));const y=this.suckerPreview.style;Object.assign(y,{position:"absolute",left:t+20+"px",top:s-36+"px",width:"24px",height:"24px",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.16)",background:`rgba(${g}, ${m}, ${k}, ${C})`,zIndex:95}),t>=this.suckerArea[0]&&s>=this.suckerArea[1]&&t<=this.suckerArea[2]&&s<=this.suckerArea[3]?y.display="":y.display="none"},suckColor(e){e&&e.tagName!=="CANVAS"||(this.suckerPreview=document.createElement("div"),document.body.appendChild(this.suckerPreview),document.addEventListener("mousemove",this.mousemoveHandler),document.addEventListener("mouseup",this.mousemoveHandler),e.addEventListener("click",t=>{const{clientX:s,clientY:i}=t,{top:o,left:r,width:n,height:l}=e.getBoundingClientRect(),a=s-r,p=i-o,g=e.getContext("2d").getImageData(Math.min(a,n-1),Math.min(p,l-1),1,1);let[m,k,C,y]=g.data;y=parseFloat((y/255).toFixed(2)),this.$emit("selectSucker",{r:m,g:k,b:C,a:y})}))}}},ue=c("path",{d:"M13.1,8.2l5.6,5.6c0.4,0.4,0.5,1.1,0.1,1.5s-1.1,0.5-1.5,0.1c0,0-0.1,0-0.1-0.1l-1.4-1.4l-7.7,7.7C7.9,21.9,7.6,22,7.3,22H3.1C2.5,22,2,21.5,2,20.9l0,0v-4.2c0-0.3,0.1-0.6,0.3-0.8l5.8-5.8C8.5,9.7,9.2,9.6,9.7,10s0.5,1.1,0.1,1.5c0,0,0,0.1-0.1,0.1l-5.5,5.5v2.7h2.7l7.4-7.4L8.7,6.8c-0.5-0.4-0.5-1-0.1-1.5s1.1-0.5,1.5-0.1c0,0,0.1,0,0.1,0.1l1.4,1.4l3.5-3.5c1.6-1.6,4.1-1.6,5.8-0.1c1.6,1.6,1.6,4.1,0.1,5.8L20.9,9l-3.6,3.6c-0.4,0.4-1.1,0.5-1.5,0.1"},null,-1),de=[ue],ge={key:1,class:"sucker",viewBox:"-16 -16 68 68",xmlns:"http://www.w3.org/2000/svg",stroke:"#9099a4"},pe=I('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="4"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),me=[pe];function fe(e,t,s,i,o,r){return h(),u("div",null,[o.isSucking?w("",!0):(h(),u("svg",{key:0,class:B([{active:o.isOpenSucker},"sucker"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"-12 -12 48 48",onClick:t[0]||(t[0]=(...n)=>r.openSucker&&r.openSucker(...n))},de,2)),o.isSucking?(h(),u("svg",ge,me)):w("",!0)])}const ve=S(he,[["render",fe]]);const Se={props:{name:{type:String,default:""},color:{type:String,default:""}},computed:{modelColor:{get(){return this.color},set(e){this.$emit("inputColor",e)}}}},ye={class:"color-type"},_e={class:"name"};function ke(e,t,s,i,o,r){return h(),u("div",ye,[c("span",_e,N(s.name),1),M(c("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>r.modelColor=n),class:"value"},null,512),[[j,r.modelColor]])])}const Ce=S(Se,[["render",ke]]);const xe={mixins:[b],props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,default:()=>[]},colorsHistoryKey:{type:String,default:""}},data(){return{imgAlphaBase64:"",colorsHistory:JSON.parse(localStorage.getItem(this.colorsHistoryKey))||[]}},created(){this.imgAlphaBase64=this.createAlphaSquare(4).toDataURL()},destroyed(){this.setColorsHistory(this.color)},methods:{selectColor(e){this.$emit("selectColor",e)},setColorsHistory(e){if(!e)return;const t=this.colorsHistory,s=t.indexOf(e);s>=0&&t.splice(s,1),t.length>=8&&(t.length=7),t.unshift(e),this.colorsHistory=t,localStorage.setItem(this.colorsHistoryKey,JSON.stringify(t))}}},be={class:"colors"},Ae=["onClick"],we={key:0,class:"colors history"},$e=["onClick"];function Fe(e,t,s,i,o,r){return h(),u("div",null,[c("ul",be,[(h(!0),u(F,null,H(s.colorsDefault,n=>(h(),u("li",{key:n,class:"item",onClick:l=>r.selectColor(n)},[c("div",{style:v({background:`url(${o.imgAlphaBase64})`}),class:"alpha"},null,4),c("div",{style:v({background:n}),class:"color"},null,4)],8,Ae))),128))]),o.colorsHistory.length?(h(),u("ul",we,[(h(!0),u(F,null,H(o.colorsHistory,n=>(h(),u("li",{key:n,class:"item",onClick:l=>r.selectColor(n)},[c("div",{style:v({background:`url(${o.imgAlphaBase64})`}),class:"alpha"},null,4),c("div",{style:v({background:n}),class:"color"},null,4)],8,$e))),128))])):w("",!0)])}const He=S(xe,[["render",Fe]]);const Le={components:{Saturation:q,Hue:te,Alpha:ie,Preview:ae,Sucker:ve,Box:Ce,Colors:He},mixins:[b],props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},suckerHide:{type:Boolean,default:!0},suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7","rgba(0,0,0,0)"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},data(){return{hueWidth:15,hueHeight:152,previewHeight:30,modelRgba:"",modelHex:"",r:0,g:0,b:0,a:1,h:0,s:0,v:0}},computed:{isLightTheme(){return this.theme==="light"},totalWidth(){return this.hueHeight+(this.hueWidth+8)*2},previewWidth(){return this.totalWidth-(this.suckerHide?0:this.previewHeight)},rgba(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv(){return{h:this.h,s:this.s,v:this.v}},rgbString(){return`rgb(${this.r}, ${this.g}, ${this.b})`},rgbaStringShort(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`},rgbaString(){return`rgba(${this.rgbaStringShort})`},hexString(){return this.rgb2hex(this.rgba,!0)}},created(){Object.assign(this,this.setColorValue(this.color)),this.setText(),this.$watch("rgba",()=>{this.$emit("changeColor",{rgba:this.rgba,hsv:this.hsv,hex:this.modelHex})})},methods:{selectSaturation(e){const{r:t,g:s,b:i,h:o,s:r,v:n}=this.setColorValue(e);Object.assign(this,{r:t,g:s,b:i,h:o,s:r,v:n}),this.setText()},selectHue(e){const{r:t,g:s,b:i,h:o,s:r,v:n}=this.setColorValue(e);Object.assign(this,{r:t,g:s,b:i,h:o,s:r,v:n}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide()})},selectAlpha(e){this.a=e,this.setText()},inputHex(e){const{r:t,g:s,b:i,a:o,h:r,s:n,v:l}=this.setColorValue(e);Object.assign(this,{r:t,g:s,b:i,a:o,h:r,s:n,v:l}),this.modelHex=e,this.modelRgba=this.rgbaStringShort,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},inputRgba(e){const{r:t,g:s,b:i,a:o,h:r,s:n,v:l}=this.setColorValue(e);Object.assign(this,{r:t,g:s,b:i,a:o,h:r,s:n,v:l}),this.modelHex=this.hexString,this.modelRgba=e,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},setText(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},openSucker(e){this.$emit("openSucker",e)},selectSucker(e){const{r:t,g:s,b:i,a:o,h:r,s:n,v:l}=this.setColorValue(e);Object.assign(this,{r:t,g:s,b:i,a:o,h:r,s:n,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},selectColor(e){const{r:t,g:s,b:i,a:o,h:r,s:n,v:l}=this.setColorValue(e);Object.assign(this,{r:t,g:s,b:i,a:o,h:r,s:n,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})}}},Ee={class:"color-set"};function Be(e,t,s,i,o,r){const n=_("Saturation"),l=_("Hue"),a=_("Alpha"),p=_("Preview"),d=_("Sucker"),g=_("Box"),m=_("Colors");return h(),u("div",{class:B(["hu-color-picker",{light:r.isLightTheme}]),style:v({width:r.totalWidth+"px"})},[c("div",Ee,[f(n,{ref:"saturation",color:r.rgbString,hsv:r.hsv,size:o.hueHeight,onSelectSaturation:r.selectSaturation},null,8,["color","hsv","size","onSelectSaturation"]),f(l,{ref:"hue",hsv:r.hsv,width:o.hueWidth,height:o.hueHeight,onSelectHue:r.selectHue},null,8,["hsv","width","height","onSelectHue"]),f(a,{ref:"alpha",color:r.rgbString,rgba:r.rgba,width:o.hueWidth,height:o.hueHeight,onSelectAlpha:r.selectAlpha},null,8,["color","rgba","width","height","onSelectAlpha"])]),c("div",{style:v({height:o.previewHeight+"px"}),class:"color-show"},[f(p,{color:r.rgbaString,width:r.previewWidth,height:o.previewHeight},null,8,["color","width","height"]),s.suckerHide?w("",!0):(h(),R(d,{key:0,"sucker-canvas":s.suckerCanvas,"sucker-area":s.suckerArea,onOpenSucker:r.openSucker,onSelectSucker:r.selectSucker},null,8,["sucker-canvas","sucker-area","onOpenSucker","onSelectSucker"]))],4),f(g,{name:"HEX",color:o.modelHex,onInputColor:r.inputHex},null,8,["color","onInputColor"]),f(g,{name:"RGBA",color:o.modelRgba,onInputColor:r.inputRgba},null,8,["color","onInputColor"]),f(m,{color:r.rgbaString,"colors-default":s.colorsDefault,"colors-history-key":s.colorsHistoryKey,onSelectColor:r.selectColor},null,8,["color","colors-default","colors-history-key","onSelectColor"])],6)}const Re=S(Le,[["render",Be]]),A=e=>`${e>15?"":0}${e.toString(16)}`,Oe=e=>{const{r:t,g:s,b:i,a:o=1}=e;return`#${A(t)}${A(s)}${A(i)}${o===1?"":A(Math.floor(o*255))}`},E=e=>{let t=e.slice(1),s=1;t.length===3&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`),t.length===8&&(s=parseInt(t.slice(6),16)/255,t=t.slice(0,6));const i=parseInt(t,16);return{r:i>>16&255,g:i>>8&255,b:i&255,a:s}},Te=e=>{const t=e.match(/(\d(\.\d+)?)+/g)||[],s=t.map(i=>parseInt(i,10));return{r:s[0],g:s[1],b:s[2],a:parseFloat(t[3])}},Ve=e=>{if(e.startsWith("#"))return E(e);if(e.startsWith("rgb"))return Te(e);if(e==="transparent")return E("#00000000");throw new Error(`color string error: ${e}`)},De=e=>{const t=Ve(e);return Oe(t)},Ie={class:"base-color-wrapper",trigger:["click"]},Ne={class:"base-color-reset"},Me=z({name:"Color",__name:"index",props:{modelValue:{type:String,default:""},defaultColor:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e;P(()=>{s.modelValue||r()});const i=L(null),o=L([]),r=()=>{t("update:modelValue",s.defaultColor)},n=Y({get:()=>s.modelValue,set:a=>{t("update:modelValue",a)}}),l=a=>{const{r:p,g:d,b:g,a:m}=a.rgba,k=`rgba(${p},${d},${g},${m})`;n.value=De(k)};return(a,p)=>{const d=T,g=V,m=D;return h(),R(J,null,{default:x(()=>[f(m,null,{default:x(()=>[f(d,{position:"lt",trigger:"click","popup-offset":10},{content:x(()=>[f(W(Re),{class:"color",theme:"light",color:n.value,"sucker-hide":!0,"sucker-canvas":i.value,"sucker-area":o.value,onChangeColor:l},null,8,["color","sucker-canvas","sucker-area"])]),default:x(()=>[c("div",Ie,[c("div",{class:"base-color-inner",style:v({background:n.value})},null,4)])]),_:1}),c("div",Ne,[f(g,{type:"text",onClick:r},{default:x(()=>[G("重置")]),_:1})])]),_:1})]),_:1})}}}),Ye=O(Me,[["__scopeId","data-v-ac2898a8"]]);export{Ye as default};
